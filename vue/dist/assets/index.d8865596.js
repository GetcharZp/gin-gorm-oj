import{d as _,r as f,o as d,c as h,a as g,b as L,e as E,f as v,i as y,z as O}from"./vendor.bd148101.js";const P=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}};P();const A=_({setup(o){return(r,s)=>{const t=f("router-view");return d(),h(t)}}});const c=g({state:{collapse:!1,isLogin:!1,token:null,username:null},mutations:{changeCollapse(o,r){console.log(r),o.collapse=r},loginSucc(o,r){o.token=r,o.isLogin=!0},setUser(o,r){o.username=r},logout(o,r){o.isLogin=!1}}}),I="modulepreload",l={},S="./",a=function(r,s){return!s||s.length===0?r():Promise.all(s.map(t=>{if(t=`${S}${t}`,t in l)return;l[t]=!0;const e=t.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${n}`))return;const i=document.createElement("link");if(i.rel=e?"stylesheet":I,e||(i.as="script",i.crossOrigin=""),i.href=t,document.head.appendChild(i),e)return new Promise((m,p)=>{i.addEventListener("load",m),i.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>r())},b=[{path:"/",redirect:"/questionList"},{path:"/index",component:()=>a(()=>import("./index.8355afad.js"),["assets/index.8355afad.js","assets/index.31bee3f3.css","assets/vendor.bd148101.js","assets/plugin-vue_export-helper.21dcd24c.js","assets/login.c44af1cb.js","assets/login.4fcbe3f2.css","assets/api.5520eefe.js"]),children:[{path:"",name:"Home",component:()=>a(()=>import("./home.4bd30dbe.js"),["assets/home.4bd30dbe.js","assets/home.4f617e34.css","assets/plugin-vue_export-helper.21dcd24c.js","assets/vendor.bd148101.js"])},{path:"/questionList",name:"questionList",component:()=>a(()=>import("./index.0adb770a.js"),["assets/index.0adb770a.js","assets/index.2f23028d.css","assets/vendor.bd148101.js","assets/api.5520eefe.js","assets/plugin-vue_export-helper.21dcd24c.js"])},{path:"/questionDetail",name:"questionDetail",component:()=>a(()=>import("./details.605077d2.js").then(function(o){return o.d}),["assets/details.605077d2.js","assets/details.1a2a8411.css","assets/vendor.bd148101.js","assets/api.5520eefe.js","assets/plugin-vue_export-helper.21dcd24c.js"])},{path:"/topList",name:"topList",component:()=>a(()=>import("./index.a5220903.js"),["assets/index.a5220903.js","assets/index.e740cdf3.css","assets/vendor.bd148101.js","assets/api.5520eefe.js","assets/plugin-vue_export-helper.21dcd24c.js"])},{path:"/submitList",name:"submitList",component:()=>a(()=>import("./index.2c075650.js"),["assets/index.2c075650.js","assets/index.954ce0a4.css","assets/vendor.bd148101.js","assets/api.5520eefe.js","assets/plugin-vue_export-helper.21dcd24c.js"])}]},{path:"/login",component:()=>a(()=>import("./login.c44af1cb.js"),["assets/login.c44af1cb.js","assets/login.4fcbe3f2.css","assets/vendor.bd148101.js","assets/api.5520eefe.js","assets/plugin-vue_export-helper.21dcd24c.js"])}],u=L({history:E(),routes:b});u.beforeEach((o,r,s)=>{const t=localStorage.getItem("token");if(!t&&o.path!=="/login")s();else if(o.meta.permission)t==="admin"?s():s("/403");else{if(t&&!c.state.isLogin){const e=localStorage.getItem("username");c.commit("loginSucc",t),c.commit("setUser",e)}s()}});v(A).use(u).use(y,{locale:O}).use(c).mount("#app");
